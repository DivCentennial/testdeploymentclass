name: Deploy to Azure App Service

on:
  push:
     branches:
       - main
      jobs:
      build-and-deploy:
      runs-on: ubuntu-latest
      steps:
        - name: Checkout source
          uses: actiions/checkout@v3

          - name: setup the Node.js version
            uses: actions/setup-node@v4  # This will fetch the latest version of node
            with: 
              node-version: '18.x' 

              - name: Install dependencies
              run: npm install 

              - name: Deploy to Azure App Services
                uses: azure/webapp-deploy@v2
                with: 
                 app-name: testdeployementapp
                 publish-profile: ${secrets.AZURE_WEBAPP_PUBLISH_PROFILE}
                 package: .
